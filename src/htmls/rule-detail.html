<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>オファー作成ルール詳細 - WEBアプリケーション</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            padding-top: 4rem; /* header height */
            padding-bottom: 3rem; /* footer height */
        }
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="bg-white shadow-md h-16 fixed top-0 left-0 right-0 z-30 flex items-center justify-between px-6">
        <a href="/" class="text-4xl font-bold bg-gradient-to-b from-red-600 to-red-400 text-transparent bg-clip-text inline-block hover:opacity-90 transition-opacity">OFFERS</a>
        <div class="flex items-center space-x-6">
            <span class="text-gray-700 text-sm">株式会社ABC</span>
            <a href="#account-settings" title="アカウント設定" class="text-gray-600 hover:text-blue-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>
            </a>
            <a href="#login" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded text-sm border border-gray-300">
                ログアウト
            </a>
        </div>
    </header>

    <aside class="w-60 bg-red-700 text-white flex flex-col fixed top-16 bottom-12 left-0 z-20 overflow-y-auto">
        <nav class="flex-1 p-3 space-y-1">
            <a href="#jobs" class="group flex items-center space-x-3 py-2.5 px-3 rounded-md hover:bg-red-800 transition-colors border-b border-white/50">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 flex-shrink-0" title="求人アイコン"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.073a2.25 2.25 0 0 1-2.25 2.25h-12a2.25 2.25 0 0 1-2.25-2.25v-12a2.25 2.25 0 0 1 2.25-2.25h4.073M20.25 14.15c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125h-9.75c-.621 0-1.125.504-1.125 1.125V7.5M20.25 14.15M13.5 6.375h3.375M13.5 10.125h3.375M6.375 6.375h1.125m-1.125 3.75h1.125m-1.125 3.75h1.125M6.375 13.875h1.125M6.375 17.625h1.125m-1.125 3.75h1.125" /></svg>
                <span class="text-sm font-medium">求人</span>
            </a>
            <a href="#rules" class="group flex items-center space-x-3 py-2.5 px-3 rounded-md bg-red-800 transition-colors border-b border-white/50"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 flex-shrink-0" title="オファー作成ルールアイコン"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>
                <span class="text-sm font-medium">オファー作成ルール</span>
            </a>
            <a href="#offers" class="group flex items-center space-x-3 py-2.5 px-3 rounded-md hover:bg-red-800 transition-colors border-b border-white/50">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 flex-shrink-0" title="オファー文面アイコン"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" /></svg>
                <span class="text-sm font-medium">オファー文面</span>
            </a>
            <a href="#settings" class="group flex items-center space-x-3 py-2.5 px-3 rounded-md hover:bg-red-800 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 flex-shrink-0" title="設定アイコン"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-1.003 1.11-1.226.554-.225 1.151-.225 1.705 0 .55.223 1.02.684 1.11 1.226M9.594 3.94C8.433 4.803 7.5 6.094 7.5 7.5v1.597M9.594 3.94c.934.097 1.872.328 2.748.719M14.406 3.94c.09.542.56 1.003 1.11 1.226.554-.225 1.151-.225 1.705 0 .55.223 1.02.684 1.11 1.226M14.406 3.94c1.161.856 2.094 2.148 2.094 3.56v1.597M14.406 3.94c-.934.097-1.872.328-2.748.719M12 10.5a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Zm0 0H12m0 0c.292 0 .578.025.856.073M12 10.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm0 0H12M6.343 16.061c-.378-.378-.567-.88-.567-1.386v-1.597c0-1.549.835-2.949 2.094-3.56M17.657 16.061c.378-.378.567-.88.567-1.386v-1.597c0-1.549-.835-2.949-2.094-3.56m0 0a3.001 3.001 0 0 0-3.532-1.49A3.001 3.001 0 0 0 9.75 7.5v1.597M4.5 15.75A2.25 2.25 0 0 1 6.75 18h10.5a2.25 2.25 0 0 1 2.25-2.25V13.5A2.25 2.25 0 0 1 17.25 11.25H6.75A2.25 2.25 0 0 1 4.5 13.5v2.25Z" /></svg>
                <span class="text-sm font-medium">設定</span>
            </a>
        </nav>
    </aside>

    <main class="ml-60 flex-1 bg-white overflow-y-auto">
         <div class="max-w-5xl mx-auto p-6 py-10"> 
            <div class="flex justify-between items-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800">オファー作成ルール詳細</h1>
                <a href="#rules" id="backToListLink" class="text-sm font-medium text-sky-600 hover:text-sky-700 flex items-center space-x-1">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
                    <span>ルール一覧に戻る</span>
                </a>
            </div>

            <div class="bg-slate-50 shadow-md rounded-lg p-6 mb-8">
                <dl class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-5">
                    <div>
                        <dt class="text-sm font-medium text-slate-500">ルールID</dt>
                        <dd class="mt-1 text-base text-slate-900" id="rule_id_detail">RUL-002</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-slate-500">作成日時</dt>
                        <dd class="mt-1 text-base text-slate-900" id="creation_date_detail">2025年5月24日 15:30</dd>
                    </div>
                    <div class="md:col-span-2"> {/* Rule Name can take full width if long */}
                        <dt class="text-sm font-medium text-slate-500">ルール名</dt>
                        <dd class="mt-1 text-base text-slate-900" id="rule_name_detail">エンジニア向け経験スキル強調ルール</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-slate-500">適用範囲</dt>
                        <dd class="mt-1 text-base text-slate-900" id="scope_detail">
                            <span class="px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                職種
                            </span>
                        </dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-slate-500">対象</dt>
                        <dd class="mt-1 text-base text-slate-900" id="target_detail">エンジニア</dd>
                    </div>
                     <div>
                        <dt class="text-sm font-medium text-slate-500">優先度</dt>
                        <dd class="mt-1 text-base text-slate-900" id="rule_priority_detail">10</dd>
                    </div>
                     <div>
                        <dt class="text-sm font-medium text-slate-500">ステータス</dt>
                        <dd class="mt-1 text-base text-slate-900" id="status_detail_rule">
                             <span class="px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800">
                                有効
                            </span>
                        </dd>
                    </div>
                </dl>
            </div>

            <div class="bg-white shadow-lg rounded-lg mb-8">
                <div class="px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg">
                    <h2 class="text-xl font-semibold text-gray-700">概要 (AIによる要約)</h2>
                </div>
                <div class="p-6">
                    <p id="rule_summary_detail" class="text-sm text-gray-800 leading-relaxed">エンジニア職の候補者に対し、技術スタックやプロジェクト経験を強調したオファー文面を生成するためのルールです。特に候補者のスキルと求人の要件が合致する点を明確に示します。</p>
                </div>
            </div>

            <div class="bg-white shadow-lg rounded-lg">
                <div class="px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex justify-between items-center">
                    <h2 class="text-xl font-semibold text-gray-700">ルール詳細 (AIへの指示内容)</h2>
                    <button id="copyRuleButton" title="指示内容をクリップボードにコピー"
                            class="flex items-center space-x-2 text-sm text-sky-600 hover:text-sky-800 font-medium py-2 px-3 border border-sky-500 hover:border-sky-700 rounded-md hover:bg-sky-50 transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4.5 w-4.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                        </svg>
                        <span id="copyRuleButtonText">指示内容をコピー</span>
                    </button>
                </div>
                <div class="p-6">
                    <pre id="rule_instructions_detail" class="whitespace-pre-wrap text-sm text-gray-800 leading-relaxed bg-slate-50 p-5 rounded-md border border-slate-200 min-h-[200px] selection:bg-sky-200">適用範囲が「職種」で対象が「エンジニア」の場合に適用する。

候補者の職務経歴書から以下の情報を抽出する:
1. 主要なプログラミング言語とフレームワーク（例: Java, Spring Boot, React, Python, Django）。
2. 直近のプロジェクトでの役割と成果。

オファー文面の冒頭付近で、以下の形式でパーソナライズされた一文を挿入する:
「[候補者名]様の[抽出した言語/フレームワーク]に関する豊富なご経験、特に[抽出したプロジェクトでの役割と成果]は、弊社の[関連する求人名またはプロジェクト]でご活躍いただける可能性を大いに感じさせるものです。」

文面全体のトーンは、プロフェッショナルかつ候補者への敬意を払ったものとする。
企業の技術的な挑戦や成長機会についても触れること。
NGワード: 「絶対」「必ずしも」「～だけ」</pre>
                </div>
            </div>

            <div class="mt-10 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4">
                <a href="#rules" class="w-full sm:w-auto justify-center inline-flex items-center px-6 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
                    一覧に戻る
                </a>
                <a href="#edit-rule-RUL-002" id="editRuleLink" class="w-full sm:w-auto justify-center inline-flex items-center px-6 py-2.5 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
                    このルールを編集する
                </a>
            </div>
         </div>
    </main>

    <footer class="bg-gray-700 text-white text-center py-3 h-12 fixed bottom-0 left-0 right-0 z-30">
        <p class="text-xs">&copy; <span id="currentYear"></span> 株式会社TORQUE</p>
    </footer>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Copy Rule Instructions to clipboard functionality
        const copyRuleButton = document.getElementById('copyRuleButton');
        const ruleInstructionsElement = document.getElementById('rule_instructions_detail');
        const copyRuleButtonText = document.getElementById('copyRuleButtonText');

        if (copyRuleButton && ruleInstructionsElement && copyRuleButtonText) {
            copyRuleButton.addEventListener('click', () => {
                navigator.clipboard.writeText(ruleInstructionsElement.innerText)
                    .then(() => {
                        copyRuleButtonText.textContent = 'コピーしました!';
                        copyRuleButton.classList.add('text-green-600', 'border-green-600', 'hover:border-green-700', 'hover:bg-green-50');
                        copyRuleButton.classList.remove('text-sky-600', 'border-sky-500', 'hover:text-sky-800', 'hover:border-sky-700', 'hover:bg-sky-50');
                        setTimeout(() => {
                            copyRuleButtonText.textContent = '指示内容をコピー';
                            copyRuleButton.classList.remove('text-green-600', 'border-green-600', 'hover:border-green-700', 'hover:bg-green-50');
                            copyRuleButton.classList.add('text-sky-600', 'border-sky-500', 'hover:text-sky-800', 'hover:border-sky-700', 'hover:bg-sky-50');
                        }, 2000);
                    })
                    .catch(err => {
                        console.error('クリップボードへのコピーに失敗しました:', err);
                        copyRuleButtonText.textContent = 'コピー失敗';
                         setTimeout(() => {
                            copyRuleButtonText.textContent = '指示内容をコピー';
                        }, 2000);
                    });
            });
        }
        
        // Placeholder for dynamic link for edit button
        // const editRuleLink = document.getElementById('editRuleLink');
        // const ruleId = document.getElementById('rule_id_detail')?.textContent;
        // if (editRuleLink && ruleId) {
        //    editRuleLink.href = `#edit-rule?ID=${ruleId}`;
        // }

        // Placeholder for dynamic badge styling based on actual status/scope text
        // This would typically be dynamic if the data is loaded from a source.
    </script>
</body>
</html>